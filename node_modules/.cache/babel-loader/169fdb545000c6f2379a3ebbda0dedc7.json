{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-myprojects\\\\hrms-demo\\\\src\\\\components\\\\EmployeeFormAdd.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Icon, TextField, Paper, Typography, Divider } from \"@material-ui/core\";\nimport { Box, Heading } from \"@chakra-ui/react\";\n//import * as emailjs from \"emailjs-com\";\n//import { useRecoilState } from \"recoil\";\n//import { loginLevelState } from \"./data/atomdata\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n//import { useCustomToast } from \"../helpers/useCustomToast\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useEmployees } from \"./employees/useEmployees\";\nimport { useAddEmployees } from \"./employees/useAddEmployees\";\n//import { useEmployeesContext } from \"../context/employees_context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initial_state = {\n  name: \"\",\n  email: \"\"\n};\nconst EmployeeFormAdd = _ref => {\n  let {\n    onAddEmpFormClose\n  } = _ref;\n  const classes = useStyles();\n  //const toast = useCustomToast();\n  const {\n    employees\n  } = useEmployees();\n  const addEmployee = useAddEmployees();\n  const [state, setState] = useState(initial_state);\n  const [isExit, setIsExit] = useState(false);\n  //const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\n  const {\n    handleSubmit,\n    control\n  } = useForm();\n  //const initialValues = Object.values(initial_state).join(\"\");\n\n  //const {\n  //editEmployeeID,\n  //employees_loading,\n  //deleteEmployee,\n  //loadEmployees,\n  //setEditEmployeeID,\n  //setIsEditingOn,\n  //setIsEditingOff,\n  //resetSingleEmployee,\n  //resetEmployees,\n  //getSingleEmployee,\n  //} = useEmployeesContext();\n\n  const onSubmit = data => {\n    const {\n      email\n    } = data;\n    const emp = employees && employees.filter(rec => rec.email === email);\n    console.log(\"exist\", emp);\n    if (emp.length) {\n      setIsExit(true);\n      setTimeout(() => {\n        setIsExit(false);\n      }, 2000);\n    } else {\n      setIsExit(false);\n      addEmployee({\n        ...data\n      });\n      onAddEmpFormClose();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h3\",\n        children: \"CREATE NEW EMPLOYEE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"p\",\n        children: \"Fill in new employee name and email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Controller, {\n            name: \"name\",\n            control: control,\n            defaultValue: state.name,\n            render: _ref2 => {\n              let {\n                field: {\n                  onChange,\n                  value\n                },\n                fieldState: {\n                  error\n                }\n              } = _ref2;\n              return /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Name\",\n                id: \"margin-normal\",\n                name: \"name\"\n                //value={value}\n                ,\n                defaultValue: state.name,\n                className: classes.textField,\n                onChange: e => {\n                  onChange(e.target.value);\n                },\n                error: !!error,\n                helperText: error ? error.message : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this);\n            },\n            rules: {\n              required: \"Name required\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Controller, {\n            name: \"email\",\n            control: control,\n            defaultValue: state.email,\n            render: _ref3 => {\n              let {\n                field: {\n                  onChange,\n                  value\n                },\n                fieldState: {\n                  error\n                }\n              } = _ref3;\n              return /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Email\",\n                id: \"margin-normal-email\",\n                name: \"email\",\n                defaultValue: state.email,\n                className: classes.textField,\n                onChange: onChange,\n                error: !!error,\n                helperText: error ? error.message : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this);\n            },\n            rules: {\n              required: \"Email is required\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.button,\n            onClick: handleSubmit(onSubmit),\n            children: [\"Submit \", /*#__PURE__*/_jsxDEV(Icon, {\n              className: classes.rightIcon,\n              children: \"send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), isExit && /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            size: \"md\",\n            pl: 2,\n            children: \"Warning! This email already existed!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1)\n  },\n  leftIcon: {\n    marginRight: theme.spacing(1)\n  },\n  rightIcon: {\n    marginLeft: theme.spacing(1)\n  },\n  iconSmall: {\n    fontSize: 20\n  },\n  root: {\n    padding: theme.spacing(3, 2)\n  },\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 400\n  }\n}));\nexport default EmployeeFormAdd;","map":{"version":3,"names":["React","useState","useEffect","Button","Icon","TextField","Paper","Typography","Divider","Box","Heading","makeStyles","Controller","useForm","useEmployees","useAddEmployees","initial_state","name","email","EmployeeFormAdd","onAddEmpFormClose","classes","useStyles","employees","addEmployee","state","setState","isExit","setIsExit","handleSubmit","control","onSubmit","data","emp","filter","rec","console","log","length","setTimeout","root","field","onChange","value","fieldState","error","textField","e","target","message","required","button","rightIcon","theme","margin","spacing","leftIcon","marginRight","marginLeft","iconSmall","fontSize","padding","container","display","flexWrap","width"],"sources":["D:/react-myprojects/hrms-demo/src/components/EmployeeFormAdd.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Button,\r\n  Icon,\r\n  TextField,\r\n  Paper,\r\n  Typography,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { Box, Heading } from \"@chakra-ui/react\";\r\n//import * as emailjs from \"emailjs-com\";\r\n//import { useRecoilState } from \"recoil\";\r\n//import { loginLevelState } from \"./data/atomdata\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//import { useCustomToast } from \"../helpers/useCustomToast\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useEmployees } from \"./employees/useEmployees\";\r\nimport { useAddEmployees } from \"./employees/useAddEmployees\";\r\n//import { useEmployeesContext } from \"../context/employees_context\";\r\n\r\nconst initial_state = {\r\n  name: \"\",\r\n  email: \"\",\r\n};\r\n\r\nconst EmployeeFormAdd = ({ onAddEmpFormClose }) => {\r\n  const classes = useStyles();\r\n  //const toast = useCustomToast();\r\n  const { employees } = useEmployees();\r\n  const addEmployee = useAddEmployees();\r\n  const [state, setState] = useState(initial_state);\r\n  const [isExit, setIsExit] = useState(false);\r\n  //const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const { handleSubmit, control } = useForm();\r\n  //const initialValues = Object.values(initial_state).join(\"\");\r\n\r\n  //const {\r\n    //editEmployeeID,\r\n    //employees_loading,\r\n    //deleteEmployee,\r\n    //loadEmployees,\r\n    //setEditEmployeeID,\r\n    //setIsEditingOn,\r\n    //setIsEditingOff,\r\n    //resetSingleEmployee,\r\n    //resetEmployees,\r\n    //getSingleEmployee,\r\n  //} = useEmployeesContext();\r\n\r\n  const onSubmit = (data) => {\r\n    const { email } = data;\r\n    const emp = employees && employees.filter((rec) => rec.email === email);\r\n    console.log(\"exist\", emp);\r\n    if (emp.length) {\r\n      setIsExit(true);\r\n      setTimeout(() => {\r\n        setIsExit(false);\r\n      }, 2000);\r\n    } else {\r\n      setIsExit(false)\r\n      addEmployee({ ...data });\r\n      onAddEmpFormClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Paper className={classes.root}>\r\n        <Typography variant=\"h5\" component=\"h3\">\r\n          CREATE NEW EMPLOYEE\r\n        </Typography>\r\n        <Typography component=\"p\">Fill in new employee name and email</Typography>\r\n        <Divider />\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div>\r\n            <Controller\r\n              name=\"name\"\r\n              control={control}\r\n              defaultValue={state.name}\r\n              render={({\r\n                field: { onChange, value },\r\n                fieldState: { error },\r\n              }) => {\r\n                return (\r\n                  <TextField\r\n                    label=\"Name\"\r\n                    id=\"margin-normal\"\r\n                    name=\"name\"\r\n                    //value={value}\r\n                    defaultValue={state.name}\r\n                    className={classes.textField}\r\n                    onChange={(e) => {\r\n                      onChange(e.target.value);\r\n                    }}\r\n                    error={!!error}\r\n                    helperText={error ? error.message : null}\r\n                  ></TextField>\r\n                );\r\n              }}\r\n              rules={{ required: \"Name required\" }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <Controller\r\n              name=\"email\"\r\n              control={control}\r\n              defaultValue={state.email}\r\n              render={({\r\n                field: { onChange, value },\r\n                fieldState: { error },\r\n              }) => {\r\n                return (\r\n                  <TextField\r\n                    label=\"Email\"\r\n                    id=\"margin-normal-email\"\r\n                    name=\"email\"\r\n                    defaultValue={state.email}\r\n                    className={classes.textField}\r\n                    onChange={onChange}\r\n                    error={!!error}\r\n                    helperText={error ? error.message : null}\r\n                  />\r\n                );\r\n              }}\r\n              rules={{ required: \"Email is required\" }}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              onClick={handleSubmit(onSubmit)}\r\n            >\r\n              Submit <Icon className={classes.rightIcon}>send</Icon>\r\n            </Button>\r\n          </div>\r\n          {isExit && (\r\n            <Box>\r\n              <Heading size=\"md\" pl={2}>\r\n                Warning! This email already existed!\r\n              </Heading>\r\n            </Box>\r\n          )}\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  rightIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  iconSmall: {\r\n    fontSize: 20,\r\n  },\r\n  root: {\r\n    padding: theme.spacing(3, 2),\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 400,\r\n  },\r\n}));\r\n\r\nexport default EmployeeFormAdd;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}