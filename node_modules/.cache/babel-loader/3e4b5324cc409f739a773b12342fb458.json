{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-myprojects\\\\hrms-demo\\\\src\\\\components\\\\TrainingsTableViewAdmin.js\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n//import clsx from \"clsx\";\nimport { Box, Grid, GridItem, Heading, IconButton, Spacer, Stack } from \"@chakra-ui/react\";\nimport { EditIcon, ViewIcon } from \"@chakra-ui/icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { differenceInDays } from \"date-fns\";\nimport { List } from \"@material-ui/core\";\n//import { useRecoilState } from \"recoil\";\n//import { loginLevelState } from \"./data/atomdata\";\nimport { useEmployeesContext } from \"../context/employees_context\";\nimport { useTrainings } from \"./trainings/useTrainings\";\nimport { useEmployees } from \"./employees/useEmployees\";\n\n//const drawerWidth = 240;\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrainingsTableViewAdmin = () => {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  //const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n  const {\n    employees\n  } = useEmployees();\n  const {\n    trainings\n  } = useTrainings();\n  //const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\n  const today = Date().toLocaleString();\n  const {\n    setEmployeeId\n  } = useEmployees();\n  const {\n    //editEmployeeID,\n    //employees_loading,\n    //deleteEmployee,\n    //loadEmployees,\n    setEditEmployeeID,\n    setIsEditingOn,\n    //setIsEditingOff,\n    resetSingleEmployee,\n    resetEmployees\n    //getSingleEmployee,\n  } = useEmployeesContext();\n\n  // useEffect(() => {\n  //   setFilter(loginLevel.loginUserId);\n  // }, []);\n\n  const handleOnClick = id => {\n    console.log(\"id\", id);\n    resetSingleEmployee();\n    resetEmployees();\n    setEditEmployeeID(id);\n    setIsEditingOn();\n    setEmployeeId(id);\n    navigate(\"/singleemployee\");\n  };\n  return /*#__PURE__*/_jsxDEV(List, {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          as: \"h4\",\n          size: \"md\",\n          children: \"Trainings Schedule Expiry Within 90 days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton\n        // variant=\"outline\"\n        , {\n          size: \"md\",\n          \"aria-label\": \"Edit\",\n          icon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 19\n          }, this),\n          onClick: () => navigate(\"/allemployees\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), trainings.filter(i => differenceInDays(new Date(i.expiry_date), new Date(today)) < 90 && differenceInDays(new Date(today), new Date(i.expiry_date)) < 0).map(row => {\n        const emp = employees.filter(r => r.id === row.empid && !r.hasresigned);\n        if (emp.length > 0) {\n          return /*#__PURE__*/_jsxDEV(Grid, {\n            templateColumns: \"repeat(13, 1fr)\",\n            gap: 3,\n            p: 1,\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              colSpan: 1,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                w: \"100%\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"sm\",\n                  \"aria-label\": \"Edit\",\n                  icon: /*#__PURE__*/_jsxDEV(ViewIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 31\n                  }, this),\n                  onClick: () => handleOnClick(row.empid)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              colSpan: 3,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                w: \"100%\",\n                children: row.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              colSpan: 3,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                w: \"100%\",\n                children: row.course\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              colSpan: 3,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                w: \"100%\",\n                children: row.institute\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              colSpan: 3,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                w: \"100%\",\n                children: row.expiry_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this)]\n          }, row.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)\n          // <ListItem key={row.id}>\n          //   <Grid item sm={3} align=\"center\">\n          //     <ListItemText>{row.name}</ListItemText>\n          //   </Grid>\n          //   <Grid item sm={3} align=\"center\">\n          //     <ListItemText>{row.institute}</ListItemText>\n          //   </Grid>\n          //   <Grid item sm={3} align=\"center\">\n          //     <ListItemText>{row.course}</ListItemText>\n          //   </Grid>\n          //   <Grid item sm={3} align=\"center\">\n          //     <ListItemText>{row.expiry_date}</ListItemText>\n          //   </Grid>\n          // </ListItem>\n          ;\n        }\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: 0\n  }\n}));\nexport default TrainingsTableViewAdmin;","map":{"version":3,"names":["React","makeStyles","Box","Grid","GridItem","Heading","IconButton","Spacer","Stack","EditIcon","ViewIcon","useNavigate","differenceInDays","List","useEmployeesContext","useTrainings","useEmployees","TrainingsTableViewAdmin","classes","useStyles","navigate","employees","trainings","today","Date","toLocaleString","setEmployeeId","setEditEmployeeID","setIsEditingOn","resetSingleEmployee","resetEmployees","handleOnClick","id","console","log","root","filter","i","expiry_date","map","row","emp","r","empid","hasresigned","length","name","course","institute","theme","padding"],"sources":["D:/react-myprojects/hrms-demo/src/components/TrainingsTableViewAdmin.js"],"sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//import clsx from \"clsx\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  GridItem,\r\n  Heading,\r\n  IconButton,\r\n  Spacer,\r\n  Stack,\r\n} from \"@chakra-ui/react\";\r\nimport { EditIcon, ViewIcon } from \"@chakra-ui/icons\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { differenceInDays } from \"date-fns\";\r\nimport { List } from \"@material-ui/core\";\r\n//import { useRecoilState } from \"recoil\";\r\n//import { loginLevelState } from \"./data/atomdata\";\r\nimport { useEmployeesContext } from \"../context/employees_context\";\r\nimport { useTrainings } from \"./trainings/useTrainings\";\r\nimport { useEmployees } from \"./employees/useEmployees\";\r\n\r\n//const drawerWidth = 240;\r\n\r\nconst TrainingsTableViewAdmin = () => {\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  //const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const { employees } = useEmployees();\r\n  const { trainings } = useTrainings();\r\n  //const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const today = Date().toLocaleString();\r\n  const { setEmployeeId } = useEmployees();\r\n  const {\r\n    //editEmployeeID,\r\n    //employees_loading,\r\n    //deleteEmployee,\r\n    //loadEmployees,\r\n    setEditEmployeeID,\r\n    setIsEditingOn,\r\n    //setIsEditingOff,\r\n    resetSingleEmployee,\r\n    resetEmployees,\r\n    //getSingleEmployee,\r\n  } = useEmployeesContext();\r\n\r\n  // useEffect(() => {\r\n  //   setFilter(loginLevel.loginUserId);\r\n  // }, []);\r\n\r\n  const handleOnClick = (id) => {\r\n    console.log(\"id\", id)\r\n    resetSingleEmployee();\r\n    resetEmployees();\r\n    setEditEmployeeID(id);\r\n    setIsEditingOn();\r\n    setEmployeeId(id);\r\n\r\n    navigate(\"/singleemployee\");\r\n  };\r\n\r\n  return (\r\n    <List className={classes.root}>\r\n      <Grid container direction=\"row\">\r\n        <Stack direction=\"row\">\r\n          <Heading as=\"h4\" size=\"md\">\r\n            Trainings Schedule Expiry Within 90 days\r\n          </Heading>\r\n          <Spacer />\r\n          <IconButton\r\n            // variant=\"outline\"\r\n            size=\"md\"\r\n            aria-label=\"Edit\"\r\n            icon={<EditIcon />}\r\n            onClick={() => navigate(\"/allemployees\")}\r\n          />\r\n        </Stack>\r\n\r\n        {trainings\r\n          .filter(\r\n            (i) =>\r\n              differenceInDays(new Date(i.expiry_date), new Date(today)) < 90 &&\r\n              differenceInDays(new Date(today), new Date(i.expiry_date)) < 0\r\n          )\r\n          .map((row) => {\r\n            const emp = employees.filter(\r\n              (r) => r.id === row.empid && !r.hasresigned\r\n            );\r\n            if (emp.length > 0) {\r\n              return (\r\n                <Grid\r\n                  templateColumns=\"repeat(13, 1fr)\"\r\n                  gap={3}\r\n                  p={1}\r\n                  key={row.id}\r\n                >\r\n                  <GridItem colSpan={1}>\r\n                    <Box w=\"100%\">\r\n                      <IconButton\r\n                        size=\"sm\"\r\n                        aria-label=\"Edit\"\r\n                        icon={<ViewIcon />}\r\n                        onClick={() => handleOnClick(row.empid)}\r\n                      />\r\n                    </Box>\r\n                  </GridItem>\r\n                  <GridItem colSpan={3}>\r\n                    <Box w=\"100%\">{row.name}</Box>\r\n                  </GridItem>\r\n                  <GridItem colSpan={3}>\r\n                    <Box w=\"100%\">{row.course}</Box>\r\n                  </GridItem>\r\n                  <GridItem colSpan={3}>\r\n                    <Box w=\"100%\">{row.institute}</Box>\r\n                  </GridItem>\r\n                  <GridItem colSpan={3}>\r\n                    <Box w=\"100%\">{row.expiry_date}</Box>\r\n                  </GridItem>\r\n                </Grid>\r\n                // <ListItem key={row.id}>\r\n                //   <Grid item sm={3} align=\"center\">\r\n                //     <ListItemText>{row.name}</ListItemText>\r\n                //   </Grid>\r\n                //   <Grid item sm={3} align=\"center\">\r\n                //     <ListItemText>{row.institute}</ListItemText>\r\n                //   </Grid>\r\n                //   <Grid item sm={3} align=\"center\">\r\n                //     <ListItemText>{row.course}</ListItemText>\r\n                //   </Grid>\r\n                //   <Grid item sm={3} align=\"center\">\r\n                //     <ListItemText>{row.expiry_date}</ListItemText>\r\n                //   </Grid>\r\n                // </ListItem>\r\n              );\r\n            }\r\n          })}\r\n      </Grid>\r\n    </List>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nexport default TrainingsTableViewAdmin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}