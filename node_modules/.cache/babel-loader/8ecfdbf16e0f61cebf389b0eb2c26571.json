{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-myprojects\\\\hrms-demo\\\\src\\\\components\\\\LeaveTableStaff.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport MaterialTable, { MTableToolbar } from \"material-table\";\nimport { TextField, MenuItem } from \"@material-ui/core\";\nimport { Box, Heading, Grid, GridItem, HStack, Select, Text } from \"@chakra-ui/react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useRecoilState } from \"recoil\";\nimport { loginLevelState } from \"./data/atomdata\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport LeaveForm from \"./LeaveForm\";\nimport { CustomDialog } from \"../helpers/CustomDialog\";\nimport { AlertDialogBox } from \"../helpers/AlertDialogBox\"; //import CustomAlertDialog from \"../helpers/CustomAlertDialog\";\n\nimport { useLeavesContext } from \"../context/leaves_context\"; //import { useEmployeesContext } from \"../context/employees_context\";\n\nimport { useLeaves } from \"./leaves/useLeaves\"; //import { useAddLeaves } from \"./leaves/useAddLeaves\";\n\nimport { useDeleteLeaves } from \"./leaves/useDeleteLeaves\"; //import { useUpdateLeaves } from \"./leaves/useUpdateLeaves\";\n//import { useSingleEmployee } from \"./employees/useSingleEmployee\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initial_form = {\n  name: \"\",\n  to_date: \"\",\n  from_date: \"\",\n  reason: \"\",\n  leavetype: \"Annual Leave\",\n  status: \"Pending\",\n  no_of_days: 0,\n  leave_bal: 0\n}; // const AlertBox = ({ isOpen, onClose, cancelRef, heading, children }) => {\n//   return (\n//     <AlertDialog\n//       isOpen={isOpen}\n//       leastDestructiveRef={cancelRef}\n//       onClose={onClose}\n//     >\n//       <AlertDialogOverlay>\n//         <AlertDialogContent>\n//           <AlertDialogHeader fontSize=\"lg\" fontWeight=\"bold\">\n//             {heading}\n//           </AlertDialogHeader>\n//           <AlertDialogBody>{children}</AlertDialogBody>\n//           <AlertDialogFooter>\n//             <Button ref={cancelRef} onClick={onClose}>\n//               Cancel\n//             </Button>\n//             <Button colorScheme=\"red\" onClick={onClose} ml={3}>\n//               Delete\n//             </Button>\n//           </AlertDialogFooter>\n//         </AlertDialogContent>\n//       </AlertDialogOverlay>\n//     </AlertDialog>\n//   );\n// };\n\nexport default function LeaveTableStaff() {\n  _s();\n\n  const classes = useStyles(); //const { singleemployee, setSingleEmployeeId } = useSingleEmployee();\n\n  const {\n    leaves,\n    setLeaveYr,\n    setLeaveId\n  } = useLeaves(); //const updateLeaves = useUpdateLeaves();\n  //const addLeaves = useAddLeaves();\n\n  const deleteLeaves = useDeleteLeaves();\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isAlertOpen, setIsAlertOpen] = useState(false); //const [alertSuccess, setAlertSuccess] = useState(false);\n\n  const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\n  const [formdata, setFormdata] = useState(initial_form);\n  const [leavestate, setLeaveState] = useState({});\n  const [isLoad, setIsLoad] = useState(true); //const { editEmployeeID } = useEmployeesContext();\n\n  const {\n    editLeaveID,\n    setEditLeaveID,\n    setIsLeaveEditingOn,\n    setIsLeaveEditingOff\n  } = useLeavesContext(); //const [isOpen, setIsOpen] = React.useState(false);\n  //const [isLeaveYear, setLeaveYear] = useState(true);\n  //const onClose = () => setIsOpen(false);\n  //const cancelRef = React.useRef();\n\n  const [selectleaveyear, setSelectLeaveYear] = useState(\"\");\n  const currentyear = new Date().getFullYear(); //const YEAR = new Date().getFullYear();\n\n  const columns = useMemo(() => [{\n    title: \"Name\",\n    field: \"name\",\n    editable: \"never\"\n  }, {\n    title: \"From Date\",\n    field: \"from_date\",\n    type: \"date\",\n    dateSetting: {\n      locale: \"en-GB\"\n    },\n    editable: \"never\"\n  }, {\n    title: \"To Date\",\n    field: \"to_date\",\n    type: \"date\",\n    dateSetting: {\n      locale: \"en-GB\"\n    },\n    editable: \"never\"\n  }, {\n    title: \"Leave Balance\",\n    field: \"leave_bal\",\n    type: \"numeric\",\n    editable: \"never\"\n  }, {\n    title: \"No of Days\",\n    field: \"no_of_days\",\n    type: \"numeric\",\n    editable: \"never\"\n  }, {\n    title: \"Reason\",\n    field: \"reason\",\n    editable: \"never\"\n  }, {\n    title: \"Type of Leaves\",\n    field: \"leavetype\",\n    editable: \"never\"\n  }, {\n    title: \"Status\",\n    field: \"status\",\n    editComponent: props => /*#__PURE__*/_jsxDEV(TextField //defaultValue={props.value || null}\n    , {\n      onChange: e => props.onChange(e.target.value),\n      style: {\n        width: 100\n      },\n      value: props.value,\n      select: true,\n      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n        value: \"Pending\",\n        children: \"Pending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: \"Approved\",\n        children: \"Approved\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: \"Rejected\",\n        children: \"Rejected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: \"Cancel\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }, this)\n  }], []);\n  useEffect(() => {\n    setSelectLeaveYear(currentyear);\n  }, []);\n  useEffect(() => {\n    setLeaveId(loginLevel.loginUserId);\n    setLeaveYr(selectleaveyear ? selectleaveyear : currentyear);\n    setIsLoad(false);\n  }, [isLoad]);\n  useEffect(() => {\n    if (leaves) {\n      Calc_Leave();\n    }\n  }, [JSON.stringify(leaves)]);\n\n  const Calc_Leave = () => {\n    // console.log(\n    //   \"calc leave\",\n    //   selectleaveyear,\n    //   typeof selectleaveyear,\n    //   typeof currentyear,\n    //   currentyear,\n    //   selectleaveyear === currentyear\n    // );\n    const {\n      leave_bf,\n      leave_entitled,\n      leave_cd\n    } = loginLevel;\n    const leaveTaken = leaves.reduce((acc, item) => {\n      if (item.status === \"Approved\" && item.leavetype === \"Annual Leave\") {\n        return acc + item.no_of_days;\n      } else {\n        return acc;\n      }\n    }, 0);\n    const leavePending = leaves.reduce((acc, item) => {\n      if (item.status === \"Pending\") {\n        return acc + item.no_of_days;\n      } else {\n        return acc;\n      }\n    }, 0);\n    const leaveOthers = leaves.reduce((acc, item) => {\n      if (item.status === \"Approved\" && item.leavetype !== \"Annual Leave\") {\n        return acc + item.no_of_days;\n      } else {\n        return acc;\n      }\n    }, 0);\n    const leaveEntitled = isNaN(leave_entitled) ? 0 : leave_entitled;\n    const leaveBf = isNaN(leave_bf) ? 0 : leave_bf;\n    const leaveCd = isNaN(leave_cd) ? 0 : leave_cd;\n    const leaveTotal = leaveBf + leaveEntitled;\n    const bal = leaveBf + leaveEntitled - leaveCd - leaveTaken;\n    const rec = {\n      leave_bf: leaveBf,\n      leave_entitled: leaveEntitled,\n      leave_total: leaveTotal,\n      leave_cd: leaveCd,\n      leave_taken: leaveTaken + leaveCd,\n      leave_pending: leavePending,\n      leave_bal: bal,\n      leave_others: leaveOthers\n    };\n    setLeaveState(prev => prev = rec); //console.log(\"leavestate\", leavestate)\n  };\n\n  const update_Leave = async data => {\n    const {\n      id\n    } = data;\n    setFormdata({ ...data\n    });\n    setFormdata({ ...data\n    });\n    setEditLeaveID(id);\n    setIsLeaveEditingOn();\n    handleDialogOpen(); //history.push(\"/singleleave\");\n  };\n\n  const add_Leave = async data => {\n    // const { id } = data;\n    setEditLeaveID(\"\");\n    setFormdata(initial_form);\n    setIsLeaveEditingOff();\n    handleDialogOpen(); //history.push(\"/singleleave\");\n  };\n\n  const delete_Leave = data => {\n    const {\n      id\n    } = data;\n    setEditLeaveID(id);\n    setIsAlertOpen(true); //handleAlertOpen();\n    //deleteLeave(id);\n    //loadLeaves();\n  };\n\n  const handleDialogOpen = () => {\n    setIsDialogOpen(true);\n  };\n\n  const handleDialogClose = () => {\n    setIsDialogOpen(false); // if (isLeaveEditing) {\n    //   loadEmpLeaves(editEmployeeID);\n    // }\n  }; // const handleAlertOpen = () => {\n  //   setIsAlertOpen(true);\n  // };\n\n\n  const handleAlertClose = () => {\n    setIsAlertOpen(false);\n  };\n\n  const handleOnDeleteConfirm = () => {\n    const id = editLeaveID;\n    deleteLeaves(id);\n  };\n\n  const UpdateLeaveYear = e => {\n    setSelectLeaveYear(prev => prev = parseInt(e.target.value)); //Calc_Leave()\n\n    setIsLoad(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(HStack, {\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            size: \"md\",\n            children: \"YEAR: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: selectleaveyear,\n          fontSize: 20,\n          maxWidth: 100,\n          onChange: e => UpdateLeaveYear(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 2021,\n            children: \"2021\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 2022,\n            children: \"2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        p: 1,\n        h: \"120px\" //templateRows=\"repeat(2, 1fr)\"\n        ,\n        templateColumns: \"repeat(14, 1fr)\",\n        gap: 2,\n        border: \"1px solid blue\",\n        bg: \"gray.200\",\n        children: [/*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            pt: 2,\n            size: \"xs\",\n            children: \"Leave Entitlement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            pt: 2,\n            size: \"xs\",\n            children: \"Leave Carried Forward\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            pt: 2,\n            size: \"xs\",\n            children: \"Total Leaves Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            pt: 2,\n            size: \"xs\",\n            children: \"Leave Taken\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            pt: 2,\n            size: \"xs\",\n            children: \"Leave Pending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            pt: 2,\n            size: \"xs\",\n            children: \"Balance Leave Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            pt: 2,\n            size: \"xs\",\n            children: \"Others\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          bg: \"white\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"20\",\n            children: selectleaveyear === currentyear ? leavestate.leave_entitled : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          bg: \"white\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"20\",\n            children: selectleaveyear === currentyear ? leavestate.leave_bf : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          bg: \"white\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"20\",\n            children: selectleaveyear === currentyear ? leavestate.leave_total : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          bg: \"white\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"20\",\n            children: leavestate.leave_taken\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          bg: \"white\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"20\",\n            children: leavestate.leave_pending\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          bg: \"white\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"20\",\n            children: selectleaveyear === currentyear ? leavestate.leave_bal : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n          colSpan: 2,\n          bg: \"white\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"20\",\n            children: selectleaveyear === currentyear ? leavestate.leave_others : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      maxW: \"100%\",\n      pt: 5,\n      h: 600,\n      overflow: \"scroll\",\n      children: [/*#__PURE__*/_jsxDEV(MaterialTable, {\n        columns: columns,\n        data: leaves,\n        title: \"Leave Application\",\n        icons: {\n          Add: props => /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 29\n          }, this),\n          Edit: props => /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 30\n          }, this),\n          Delete: props => /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 32\n          }, this),\n          Clear: props => /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 31\n          }, this),\n          Check: props => /*#__PURE__*/_jsxDEV(CheckIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 31\n          }, this),\n          Search: props => /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 32\n          }, this),\n          ResetSearch: props => /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 37\n          }, this)\n        } // editable={{\n        //   isEditable: (rowData) => rowData.status === \"Pending\",\n        //   isDeletable: (rowData) => rowData.status === \"Pending\",\n        //   onRowAdd: (newData) =>\n        //     new Promise((resolve, reject) => {\n        //       setTimeout(() => {\n        //         add_Leave(newData);\n        //         resolve();\n        //       }, 1000);\n        //     }),\n        //   onRowUpdate: (newData, oldData) =>\n        //     new Promise((resolve, reject) => {\n        //       setTimeout(() => {\n        //         update_Leave(newData);\n        //         resolve();\n        //       }, 1000);\n        //     }),\n        //   onRowDelete: (oldData) =>\n        //     new Promise((resolve, reject) => {\n        //       setTimeout(() => {\n        //         delete_Leave(oldData);\n        //         resolve();\n        //       }, 1000);\n        //     }),\n        // }}\n        ,\n        actions: [rowData => ({\n          disabled: rowData.status !== \"Pending\",\n          icon: \"edit\",\n          tooltip: \"Edit Record\",\n          onClick: (event, rowData) => {\n            update_Leave(rowData);\n          }\n        }), rowData => ({\n          disabled: rowData.status !== \"Pending\",\n          icon: \"delete\",\n          tooltip: \"Delete Record\",\n          onClick: (event, rowData) => {\n            delete_Leave(rowData);\n          }\n        }), {\n          icon: \"add\",\n          tooltip: \"Add Record\",\n          isFreeAction: true,\n          onClick: (event, rowData) => {\n            add_Leave(rowData);\n          }\n        }],\n        options: {\n          filtering: true,\n          paging: false,\n          headerStyle: {\n            backgroundColor: \"orange\",\n            color: \"primary\"\n          },\n          showTitle: true\n        },\n        components: {\n          Toolbar: props => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(MTableToolbar, { ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CustomDialog, {\n        isOpen: isDialogOpen,\n        handleClose: handleDialogClose,\n        title: \"\",\n        showButton: true,\n        isFullscreen: false,\n        isFullwidth: false,\n        children: /*#__PURE__*/_jsxDEV(LeaveForm, {\n          formdata: formdata,\n          leavestate: leavestate,\n          setFormdata: setFormdata,\n          handleDialogClose: handleDialogClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AlertDialogBox, {\n        onClose: handleAlertClose,\n        onConfirm: handleOnDeleteConfirm,\n        isOpen: isAlertOpen,\n        title: \"Delete Leave\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Are you sure you want to delete ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LeaveTableStaff, \"hz7MMEP3YNxRlsQL0oF7qhYUtoo=\", false, function () {\n  return [useStyles, useLeaves, useDeleteLeaves, useRecoilState, useLeavesContext];\n});\n\n_c = LeaveTableStaff;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: 0\n  }\n}));\n\nvar _c;\n\n$RefreshReg$(_c, \"LeaveTableStaff\");","map":{"version":3,"sources":["D:/react-myprojects/hrms-demo/src/components/LeaveTableStaff.js"],"names":["React","useState","useEffect","useMemo","MaterialTable","MTableToolbar","TextField","MenuItem","Box","Heading","Grid","GridItem","HStack","Select","Text","makeStyles","useRecoilState","loginLevelState","AddIcon","EditIcon","DeleteIcon","CheckIcon","SearchIcon","LeaveForm","CustomDialog","AlertDialogBox","useLeavesContext","useLeaves","useDeleteLeaves","initial_form","name","to_date","from_date","reason","leavetype","status","no_of_days","leave_bal","LeaveTableStaff","classes","useStyles","leaves","setLeaveYr","setLeaveId","deleteLeaves","isDialogOpen","setIsDialogOpen","isAlertOpen","setIsAlertOpen","loginLevel","setLoginLevel","formdata","setFormdata","leavestate","setLeaveState","isLoad","setIsLoad","editLeaveID","setEditLeaveID","setIsLeaveEditingOn","setIsLeaveEditingOff","selectleaveyear","setSelectLeaveYear","currentyear","Date","getFullYear","columns","title","field","editable","type","dateSetting","locale","editComponent","props","e","onChange","target","value","width","loginUserId","Calc_Leave","JSON","stringify","leave_bf","leave_entitled","leave_cd","leaveTaken","reduce","acc","item","leavePending","leaveOthers","leaveEntitled","isNaN","leaveBf","leaveCd","leaveTotal","bal","rec","leave_total","leave_taken","leave_pending","leave_others","prev","update_Leave","data","id","handleDialogOpen","add_Leave","delete_Leave","handleDialogClose","handleAlertClose","handleOnDeleteConfirm","UpdateLeaveYear","parseInt","root","Add","Edit","Delete","Clear","Check","Search","ResetSearch","rowData","disabled","icon","tooltip","onClick","event","isFreeAction","filtering","paging","headerStyle","backgroundColor","color","showTitle","Toolbar","theme","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\r\nimport MaterialTable, { MTableToolbar } from \"material-table\";\r\nimport { TextField, MenuItem } from \"@material-ui/core\";\r\nimport {\r\n  Box,\r\n  Heading,\r\n  Grid,\r\n  GridItem,\r\n  HStack,\r\n  Select,\r\n  Text,\r\n} from \"@chakra-ui/react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { loginLevelState } from \"./data/atomdata\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport LeaveForm from \"./LeaveForm\";\r\nimport { CustomDialog } from \"../helpers/CustomDialog\";\r\nimport { AlertDialogBox } from \"../helpers/AlertDialogBox\";\r\n//import CustomAlertDialog from \"../helpers/CustomAlertDialog\";\r\nimport { useLeavesContext } from \"../context/leaves_context\";\r\n//import { useEmployeesContext } from \"../context/employees_context\";\r\nimport { useLeaves } from \"./leaves/useLeaves\";\r\n//import { useAddLeaves } from \"./leaves/useAddLeaves\";\r\nimport { useDeleteLeaves } from \"./leaves/useDeleteLeaves\";\r\n//import { useUpdateLeaves } from \"./leaves/useUpdateLeaves\";\r\n//import { useSingleEmployee } from \"./employees/useSingleEmployee\";\r\n\r\nconst initial_form = {\r\n  name: \"\",\r\n  to_date: \"\",\r\n  from_date: \"\",\r\n  reason: \"\",\r\n  leavetype: \"Annual Leave\",\r\n  status: \"Pending\",\r\n  no_of_days: 0,\r\n  leave_bal: 0,\r\n};\r\n\r\n// const AlertBox = ({ isOpen, onClose, cancelRef, heading, children }) => {\r\n//   return (\r\n//     <AlertDialog\r\n//       isOpen={isOpen}\r\n//       leastDestructiveRef={cancelRef}\r\n//       onClose={onClose}\r\n//     >\r\n//       <AlertDialogOverlay>\r\n//         <AlertDialogContent>\r\n//           <AlertDialogHeader fontSize=\"lg\" fontWeight=\"bold\">\r\n//             {heading}\r\n//           </AlertDialogHeader>\r\n\r\n//           <AlertDialogBody>{children}</AlertDialogBody>\r\n\r\n//           <AlertDialogFooter>\r\n//             <Button ref={cancelRef} onClick={onClose}>\r\n//               Cancel\r\n//             </Button>\r\n//             <Button colorScheme=\"red\" onClick={onClose} ml={3}>\r\n//               Delete\r\n//             </Button>\r\n//           </AlertDialogFooter>\r\n//         </AlertDialogContent>\r\n//       </AlertDialogOverlay>\r\n//     </AlertDialog>\r\n//   );\r\n// };\r\n\r\nexport default function LeaveTableStaff() {\r\n  const classes = useStyles();\r\n  //const { singleemployee, setSingleEmployeeId } = useSingleEmployee();\r\n  const { leaves, setLeaveYr, setLeaveId } = useLeaves();\r\n  //const updateLeaves = useUpdateLeaves();\r\n  //const addLeaves = useAddLeaves();\r\n  const deleteLeaves = useDeleteLeaves();\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [isAlertOpen, setIsAlertOpen] = useState(false);\r\n  //const [alertSuccess, setAlertSuccess] = useState(false);\r\n  const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const [formdata, setFormdata] = useState(initial_form);\r\n  const [leavestate, setLeaveState] = useState({});\r\n  const [isLoad, setIsLoad] = useState(true);\r\n  //const { editEmployeeID } = useEmployeesContext();\r\n  const {\r\n    editLeaveID,\r\n    setEditLeaveID,\r\n    setIsLeaveEditingOn,\r\n    setIsLeaveEditingOff,\r\n  } = useLeavesContext();\r\n  //const [isOpen, setIsOpen] = React.useState(false);\r\n  //const [isLeaveYear, setLeaveYear] = useState(true);\r\n  //const onClose = () => setIsOpen(false);\r\n  //const cancelRef = React.useRef();\r\n  const [selectleaveyear, setSelectLeaveYear] = useState(\"\");\r\n  const currentyear = new Date().getFullYear();\r\n  //const YEAR = new Date().getFullYear();\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        title: \"Name\",\r\n        field: \"name\",\r\n        editable: \"never\",\r\n      },\r\n      {\r\n        title: \"From Date\",\r\n        field: \"from_date\",\r\n        type: \"date\",\r\n        dateSetting: { locale: \"en-GB\" },\r\n        editable: \"never\",\r\n      },\r\n      {\r\n        title: \"To Date\",\r\n        field: \"to_date\",\r\n        type: \"date\",\r\n        dateSetting: { locale: \"en-GB\" },\r\n        editable: \"never\",\r\n      },\r\n      {\r\n        title: \"Leave Balance\",\r\n        field: \"leave_bal\",\r\n        type: \"numeric\",\r\n        editable: \"never\",\r\n      },\r\n      {\r\n        title: \"No of Days\",\r\n        field: \"no_of_days\",\r\n        type: \"numeric\",\r\n        editable: \"never\",\r\n      },\r\n      {\r\n        title: \"Reason\",\r\n        field: \"reason\",\r\n        editable: \"never\",\r\n      },\r\n      {\r\n        title: \"Type of Leaves\",\r\n        field: \"leavetype\",\r\n        editable: \"never\",\r\n      },\r\n      {\r\n        title: \"Status\",\r\n        field: \"status\",\r\n        editComponent: (props) => (\r\n          <TextField\r\n            //defaultValue={props.value || null}\r\n            onChange={(e) => props.onChange(e.target.value)}\r\n            style={{ width: 100 }}\r\n            value={props.value}\r\n            select\r\n          >\r\n            <MenuItem value=\"Pending\">Pending</MenuItem>\r\n            <MenuItem value=\"Approved\">Approved</MenuItem>\r\n            <MenuItem value=\"Rejected\">Rejected</MenuItem>\r\n            <MenuItem value=\"Cancel\">Cancel</MenuItem>\r\n          </TextField>\r\n        ),\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSelectLeaveYear(currentyear);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLeaveId(loginLevel.loginUserId);\r\n    setLeaveYr(selectleaveyear ? selectleaveyear : currentyear);\r\n    setIsLoad(false);\r\n  }, [isLoad]);\r\n\r\n  useEffect(() => {\r\n    if (leaves) {\r\n      Calc_Leave();\r\n    }\r\n  }, [JSON.stringify(leaves)]);\r\n\r\n  const Calc_Leave = () => {\r\n    // console.log(\r\n    //   \"calc leave\",\r\n    //   selectleaveyear,\r\n    //   typeof selectleaveyear,\r\n    //   typeof currentyear,\r\n    //   currentyear,\r\n    //   selectleaveyear === currentyear\r\n    // );\r\n    const { leave_bf, leave_entitled, leave_cd } = loginLevel;\r\n    const leaveTaken = leaves.reduce((acc, item) => {\r\n      if (item.status === \"Approved\" && item.leavetype === \"Annual Leave\") {\r\n        return acc + item.no_of_days;\r\n      } else {\r\n        return acc;\r\n      }\r\n    }, 0);\r\n    const leavePending = leaves.reduce((acc, item) => {\r\n      if (item.status === \"Pending\") {\r\n        return acc + item.no_of_days;\r\n      } else {\r\n        return acc;\r\n      }\r\n    }, 0);\r\n     const leaveOthers = leaves.reduce((acc, item) => {\r\n       if (item.status === \"Approved\" && item.leavetype !== \"Annual Leave\") {\r\n         return acc + item.no_of_days;\r\n       } else {\r\n         return acc;\r\n       }\r\n     }, 0);\r\n    const leaveEntitled = isNaN(leave_entitled) ? 0 : leave_entitled;\r\n    const leaveBf = isNaN(leave_bf) ? 0 : leave_bf;\r\n    const leaveCd = isNaN(leave_cd) ? 0 : leave_cd;\r\n    const leaveTotal = leaveBf + leaveEntitled;\r\n    const bal = leaveBf + leaveEntitled - leaveCd - leaveTaken;\r\n    const rec = {\r\n      leave_bf: leaveBf,\r\n      leave_entitled: leaveEntitled,\r\n      leave_total: leaveTotal,\r\n      leave_cd: leaveCd,\r\n      leave_taken: leaveTaken + leaveCd,\r\n      leave_pending: leavePending,\r\n      leave_bal: bal,\r\n      leave_others: leaveOthers,\r\n    };\r\n    setLeaveState((prev) => (prev = rec));\r\n    //console.log(\"leavestate\", leavestate)\r\n  };\r\n\r\n  const update_Leave = async (data) => {\r\n    const { id } = data;\r\n    setFormdata({ ...data });\r\n    setFormdata({ ...data });\r\n    setEditLeaveID(id);\r\n    setIsLeaveEditingOn();\r\n    handleDialogOpen();\r\n    //history.push(\"/singleleave\");\r\n  };\r\n\r\n  const add_Leave = async (data) => {\r\n    // const { id } = data;\r\n    setEditLeaveID(\"\");\r\n    setFormdata(initial_form);\r\n    setIsLeaveEditingOff();\r\n    handleDialogOpen();\r\n    //history.push(\"/singleleave\");\r\n  };\r\n\r\n  const delete_Leave = (data) => {\r\n    const { id } = data;\r\n\r\n    setEditLeaveID(id);\r\n    setIsAlertOpen(true);\r\n    //handleAlertOpen();\r\n    //deleteLeave(id);\r\n    //loadLeaves();\r\n  };\r\n\r\n  const handleDialogOpen = () => {\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const handleDialogClose = () => {\r\n    setIsDialogOpen(false);\r\n\r\n    // if (isLeaveEditing) {\r\n    //   loadEmpLeaves(editEmployeeID);\r\n    // }\r\n  };\r\n\r\n  // const handleAlertOpen = () => {\r\n  //   setIsAlertOpen(true);\r\n  // };\r\n\r\n  const handleAlertClose = () => {\r\n    setIsAlertOpen(false);\r\n  };\r\n\r\n  const handleOnDeleteConfirm = () => {\r\n    const id = editLeaveID;\r\n    deleteLeaves(id);\r\n  };\r\n\r\n  const UpdateLeaveYear = (e) => {\r\n    setSelectLeaveYear((prev) => (prev = parseInt(e.target.value)));\r\n    //Calc_Leave()\r\n    setIsLoad(true);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <h1>Expenses Claims Application</h1> */}\r\n      <Box>\r\n        <HStack mb={2}>\r\n          <Box>\r\n            <Heading size=\"md\">YEAR: </Heading>\r\n          </Box>\r\n          <Select\r\n            value={selectleaveyear}\r\n            fontSize={20}\r\n            maxWidth={100}\r\n            onChange={(e) => UpdateLeaveYear(e)}\r\n          >\r\n            <option value={2021}>2021</option>\r\n            <option value={2022}>2022</option>\r\n          </Select>\r\n        </HStack>\r\n      </Box>\r\n      <Box>\r\n        <Grid\r\n          p={1}\r\n          h=\"120px\"\r\n          //templateRows=\"repeat(2, 1fr)\"\r\n          templateColumns=\"repeat(14, 1fr)\"\r\n          gap={2}\r\n          border=\"1px solid blue\"\r\n          bg=\"gray.200\"\r\n        >\r\n          <GridItem colSpan={2} align=\"center\">\r\n            <Heading pt={2} size=\"xs\">\r\n              Leave Entitlement\r\n            </Heading>\r\n          </GridItem>\r\n          <GridItem colSpan={2} align=\"center\">\r\n            <Heading pt={2} size=\"xs\">\r\n              Leave Carried Forward\r\n            </Heading>\r\n          </GridItem>\r\n          <GridItem colSpan={2} align=\"center\">\r\n            <Heading pt={2} size=\"xs\">\r\n              Total Leaves Days\r\n            </Heading>\r\n          </GridItem>\r\n          <GridItem colSpan={2} align=\"center\">\r\n            <Heading pt={2} size=\"xs\">\r\n              Leave Taken\r\n            </Heading>\r\n          </GridItem>\r\n          <GridItem colSpan={2} align=\"center\">\r\n            <Heading pt={2} size=\"xs\">\r\n              Leave Pending\r\n            </Heading>\r\n          </GridItem>\r\n          <GridItem colSpan={2} align=\"center\">\r\n            <Heading pt={2} size=\"xs\">\r\n              Balance Leave Days\r\n            </Heading>\r\n          </GridItem>\r\n          <GridItem colSpan={2} align=\"center\">\r\n            <Heading pt={2} size=\"xs\">\r\n              Others\r\n            </Heading>\r\n          </GridItem>\r\n\r\n          <GridItem colSpan={2} bg=\"white\" align=\"center\">\r\n            <Text fontSize=\"20\">\r\n              {selectleaveyear === currentyear ? leavestate.leave_entitled : 0}\r\n            </Text>\r\n          </GridItem>\r\n          <GridItem colSpan={2} bg=\"white\" align=\"center\">\r\n            <Text fontSize=\"20\">\r\n              {selectleaveyear === currentyear ? leavestate.leave_bf : 0}\r\n            </Text>\r\n          </GridItem>\r\n          <GridItem colSpan={2} bg=\"white\" align=\"center\">\r\n            <Text fontSize=\"20\">\r\n              {selectleaveyear === currentyear ? leavestate.leave_total : 0}\r\n            </Text>\r\n          </GridItem>\r\n          <GridItem colSpan={2} bg=\"white\" align=\"center\">\r\n            <Text fontSize=\"20\">{leavestate.leave_taken}</Text>\r\n          </GridItem>\r\n          <GridItem colSpan={2} bg=\"white\" align=\"center\">\r\n            <Text fontSize=\"20\">{leavestate.leave_pending}</Text>\r\n          </GridItem>\r\n          <GridItem colSpan={2} bg=\"white\" align=\"center\">\r\n            <Text fontSize=\"20\">\r\n              {selectleaveyear === currentyear ? leavestate.leave_bal : 0}\r\n            </Text>\r\n          </GridItem>\r\n          <GridItem colSpan={2} bg=\"white\" align=\"center\">\r\n            <Text fontSize=\"20\">\r\n              {selectleaveyear === currentyear ? leavestate.leave_others : 0}\r\n            </Text>\r\n          </GridItem>\r\n        </Grid>\r\n      </Box>\r\n      <Box maxW=\"100%\" pt={5} h={600} overflow=\"scroll\">\r\n        <MaterialTable\r\n          columns={columns}\r\n          data={leaves}\r\n          title=\"Leave Application\"\r\n          icons={{\r\n            Add: (props) => <AddIcon />,\r\n            Edit: (props) => <EditIcon />,\r\n            Delete: (props) => <DeleteIcon />,\r\n            Clear: (props) => <DeleteIcon />,\r\n            Check: (props) => <CheckIcon />,\r\n            Search: (props) => <SearchIcon />,\r\n            ResetSearch: (props) => <DeleteIcon />,\r\n          }}\r\n          // editable={{\r\n          //   isEditable: (rowData) => rowData.status === \"Pending\",\r\n          //   isDeletable: (rowData) => rowData.status === \"Pending\",\r\n          //   onRowAdd: (newData) =>\r\n          //     new Promise((resolve, reject) => {\r\n          //       setTimeout(() => {\r\n          //         add_Leave(newData);\r\n          //         resolve();\r\n          //       }, 1000);\r\n          //     }),\r\n          //   onRowUpdate: (newData, oldData) =>\r\n          //     new Promise((resolve, reject) => {\r\n          //       setTimeout(() => {\r\n          //         update_Leave(newData);\r\n          //         resolve();\r\n          //       }, 1000);\r\n          //     }),\r\n          //   onRowDelete: (oldData) =>\r\n          //     new Promise((resolve, reject) => {\r\n          //       setTimeout(() => {\r\n          //         delete_Leave(oldData);\r\n          //         resolve();\r\n          //       }, 1000);\r\n          //     }),\r\n          // }}\r\n          actions={[\r\n            (rowData) => ({\r\n              disabled: rowData.status !== \"Pending\",\r\n              icon: \"edit\",\r\n              tooltip: \"Edit Record\",\r\n              onClick: (event, rowData) => {\r\n                update_Leave(rowData);\r\n              },\r\n            }),\r\n            (rowData) => ({\r\n              disabled: rowData.status !== \"Pending\",\r\n              icon: \"delete\",\r\n              tooltip: \"Delete Record\",\r\n              onClick: (event, rowData) => {\r\n                delete_Leave(rowData);\r\n              },\r\n            }),\r\n            {\r\n              icon: \"add\",\r\n              tooltip: \"Add Record\",\r\n              isFreeAction: true,\r\n              onClick: (event, rowData) => {\r\n                add_Leave(rowData);\r\n              },\r\n            },\r\n          ]}\r\n          options={{\r\n            filtering: true,\r\n            paging: false,\r\n            headerStyle: {\r\n              backgroundColor: \"orange\",\r\n              color: \"primary\",\r\n            },\r\n            showTitle: true,\r\n          }}\r\n          components={{\r\n            Toolbar: (props) => (\r\n              <div>\r\n                <MTableToolbar {...props} />\r\n              </div>\r\n            ),\r\n          }}\r\n        />\r\n        <CustomDialog\r\n          isOpen={isDialogOpen}\r\n          handleClose={handleDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={false}\r\n          isFullwidth={false}\r\n        >\r\n          <LeaveForm\r\n            formdata={formdata}\r\n            leavestate={leavestate}\r\n            setFormdata={setFormdata}\r\n            handleDialogClose={handleDialogClose}\r\n          />\r\n        </CustomDialog>\r\n\r\n        {/* <CustomAlertDialog\r\n          isOpen={isAlertOpen}\r\n          cancelRef={cancelRef}\r\n          onClose={handleAlertClose}\r\n          onConfirm={handleOnDeleteConfirm}\r\n          title=\"DELETE\"\r\n        >\r\n          <Heading size=\"sm\">Are you sure you want to delete ?</Heading>\r\n        </CustomAlertDialog> */}\r\n        <AlertDialogBox\r\n          onClose={handleAlertClose}\r\n          onConfirm={handleOnDeleteConfirm}\r\n          isOpen={isAlertOpen}\r\n          title=\"Delete Leave\"\r\n        >\r\n          <h2>Are you sure you want to delete ?</h2>\r\n        </AlertDialogBox>\r\n        {/* <AlertBox\r\n          isOpen={isOpen}\r\n          leastDestructiveRef={cancelRef}\r\n          onClose={() => onClose()}\r\n          heading=\"DELETE\"\r\n        >\r\n          <h2>Are you sure you want to delete?</h2>\r\n        </AlertBox> */}\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}