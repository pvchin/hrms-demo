{"ast":null,"code":"import { useState, useCallback } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { expenses_url } from \"../../utils/constants\";\nimport { filterByStatus } from \"./utils\";\nimport axios from \"axios\";\nimport { queryKeys } from \"../react-query/constants\";\nasync function getExpensesPeriod(expperiodMthId, expperiodYrId) {\n  const {\n    data\n  } = await axios.get(`${expenses_url}?m=${expperiodMthId}&y=${expperiodYrId}`);\n  //const { data } = await axios.get(`${expenses_url}`);\n  return data;\n}\nexport function useExpensesPeriod(payrun) {\n  const [expperiodfilter, setExpPeriodFilter] = useState(\"all\");\n  const [expperiodYrId, setExpPeriodYrId] = useState(\"\");\n  const [expperiodMthId, setExpPeriodMthId] = useState(\"\");\n  const selectFn = useCallback(unfiltered => filterByStatus(unfiltered, expperiodfilter), [expperiodfilter]);\n  const fallback = [];\n  const {\n    data: expensesperiod = fallback\n  } = useQuery([queryKeys.expensesperiod, expperiodMthId, expperiodYrId],\n  //queryKeys.expenses_payrun,\n  () => getExpensesPeriod(expperiodMthId, expperiodYrId), {\n    select: expperiodfilter !== \"all\" ? selectFn : undefined\n  });\n  return {\n    expensesperiod,\n    expperiodfilter,\n    setExpPeriodFilter,\n    setExpPeriodYrId,\n    setExpPeriodMthId\n  };\n}","map":{"version":3,"names":["useState","useCallback","useQuery","expenses_url","filterByStatus","axios","queryKeys","getExpensesPeriod","expperiodMthId","expperiodYrId","data","get","useExpensesPeriod","payrun","expperiodfilter","setExpPeriodFilter","setExpPeriodYrId","setExpPeriodMthId","selectFn","unfiltered","fallback","expensesperiod","select","undefined"],"sources":["D:/react-myprojects/hrms-demo/src/components/expenses/useExpensesPeriod.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport { expenses_url } from \"../../utils/constants\";\r\nimport { filterByStatus } from \"./utils\";\r\n\r\nimport axios from \"axios\";\r\nimport { queryKeys } from \"../react-query/constants\";\r\n\r\nasync function getExpensesPeriod(expperiodMthId, expperiodYrId) {\r\n  const { data } = await axios.get(`${expenses_url}?m=${expperiodMthId}&y=${expperiodYrId}`);\r\n  //const { data } = await axios.get(`${expenses_url}`);\r\n  return data;\r\n}\r\n\r\nexport function useExpensesPeriod(payrun) {\r\n  const [expperiodfilter, setExpPeriodFilter] = useState(\"all\");\r\n    const [expperiodYrId, setExpPeriodYrId] = useState(\"\");\r\n     const [expperiodMthId, setExpPeriodMthId] = useState(\"\");\r\n\r\n  const selectFn = useCallback(\r\n    (unfiltered) => filterByStatus(unfiltered, expperiodfilter),\r\n    [expperiodfilter]\r\n  );\r\n\r\n  const fallback = [];\r\n  const { data: expensesperiod = fallback } = useQuery(\r\n    [queryKeys.expensesperiod, expperiodMthId, expperiodYrId],\r\n    //queryKeys.expenses_payrun,\r\n      () => getExpensesPeriod(expperiodMthId,expperiodYrId),\r\n    {\r\n      select: expperiodfilter !== \"all\" ? selectFn : undefined,\r\n    }\r\n  );\r\n\r\n  return {\r\n    expensesperiod,\r\n    expperiodfilter,\r\n    setExpPeriodFilter,\r\n    setExpPeriodYrId,\r\n    setExpPeriodMthId,\r\n  };\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,cAAc,QAAQ,SAAS;AAExC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,0BAA0B;AAEpD,eAAeC,iBAAiB,CAACC,cAAc,EAAEC,aAAa,EAAE;EAC9D,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,GAAER,YAAa,MAAKK,cAAe,MAAKC,aAAc,EAAC,CAAC;EAC1F;EACA,OAAOC,IAAI;AACb;AAEA,OAAO,SAASE,iBAAiB,CAACC,MAAM,EAAE;EACxC,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACS,aAAa,EAAEO,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACrD,MAAM,CAACQ,cAAc,EAAES,iBAAiB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAE3D,MAAMkB,QAAQ,GAAGjB,WAAW,CACzBkB,UAAU,IAAKf,cAAc,CAACe,UAAU,EAAEL,eAAe,CAAC,EAC3D,CAACA,eAAe,CAAC,CAClB;EAED,MAAMM,QAAQ,GAAG,EAAE;EACnB,MAAM;IAAEV,IAAI,EAAEW,cAAc,GAAGD;EAAS,CAAC,GAAGlB,QAAQ,CAClD,CAACI,SAAS,CAACe,cAAc,EAAEb,cAAc,EAAEC,aAAa,CAAC;EACzD;EACE,MAAMF,iBAAiB,CAACC,cAAc,EAACC,aAAa,CAAC,EACvD;IACEa,MAAM,EAAER,eAAe,KAAK,KAAK,GAAGI,QAAQ,GAAGK;EACjD,CAAC,CACF;EAED,OAAO;IACLF,cAAc;IACdP,eAAe;IACfC,kBAAkB;IAClBC,gBAAgB;IAChBC;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module"}