(this.webpackJsonphrms=this.webpackJsonphrms||[]).push([[18],{1087:function(e,t,a){"use strict";a.r(t);var n=a(4),l=a(25),s=a(9),i=a(1),r=a(53),c=a(163),o=a(27),d=a.n(o),u=a(296),p=a(19),b=a(75),j=a(404),m=a(405),h=a(585),y=a(629),x=a(212),O=a(31),_=a(129),f=a(88),w=a(442),v=a(606),g=a(620),N=a(630),P=a(457),S=a.n(P),I=a(87),k=a(466),L=a(2),C=[{name:"",period:"",date:"",payrun:"",bank_name:"",bank_acno:"",tap_acno:"",scp_acno:"",empid:"",status:"",allows_type1:" ",allows_type1amt:0,allows_type2:" ",allows_type2amt:0,allows_type3:" ",allows_type3amt:0,allows_type4:" ",allows_type4amt:0,allows_type5:" ",allows_type5amt:0,allows_type6:" ",allows_type6amt:0,allows_type7:" ",allows_type7amt:0,allows_type8:" ",allows_type8amt:0,deducts_type1:" ",deducts_type1amt:0,deducts_type2:" ",deducts_type2amt:0,deducts_type3:" ",deducts_type3amt:0,deducts_type4:" ",deducts_type4amt:0,deducts_type5:" ",deducts_type5amt:0,deducts_type6:" ",deducts_type6amt:0,deducts_type7:" ",deducts_type7amt:0,deducts_type8:" ",deducts_type8amt:0,tap_checkbox:!1,salary_currency:" ",currency_rate:1,wages:0,nett_pay:0,tap_amount:0,scp_amount:0,total_allowances:0,total_deductions:0,site_allows:0,expenses_claims:0,nett_pay_bnd:0,wages_bnd:0,site_allows_bnd:0,expenses_claims_bnd:0,tap_amount_bnd:0,scp_amount_bnd:0,total_allowances_bnd:0,total_deductions_bnd:0}],A=Object(I.a)((function(e){return{root:{flexGrow:1},button:{margin:e.spacing(1)},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},section:{width:"80vw",margin:"1rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},jobscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},btncontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},jobbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1.25rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},jobinfo:{fontWeight:"400"},divider:{background:"white"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350},divContainer:{display:"flex",flexDirection:"row"},formLabel:{fontSize:12,textAlign:"left",marginLeft:8,marginTop:5}}})),z=function(e){var t=e.formdata,a=(e.setFormdata,e.loadFormdata),l=e.setLoadFormdata,r=e.payitems,c=e.rowindex,o=e.isStart,d=e.singlebatchpayslip,u=A(),p=Object(i.useState)(C),b=Object(s.a)(p,2),m=b[0],h=b[1],y=Object(i.useState)(!1),x=Object(s.a)(y,2),P=x[0],I=x[1];Object(i.useEffect)((function(){h((function(e){return Object(n.a)({},t)})),l(!1)}),[a]),Object(i.useEffect)((function(){m&&(D(),I(!1))}),[P]);var z=function(e){e.preventDefault();var t=e.target,a=t.name,l=t.type,s=t.value,i="number"===l?isNaN(s)||void 0===s?0:parseFloat(s):s;h((function(e){return Object(n.a)(Object(n.a)({},m),{},Object(O.a)({},a,i))})),function(e){var t=e.name,a=e.value,n=d[c];n[t]=a,n.tableData.checked=!0}({name:a,value:i}),I(!0)},D=function(e){if(!o&&k.a&&d&&m){var t,a,l,s,i,r=0,u=0,p=0,b=0,j=0,y=0,x=0,O=0,_=0,f=0,w=0,v=d[c];if(!v)return!1;t=isNaN(m.wages)||void 0===m.wages?0:m.wages,a=m.tap_checkbox?Math.ceil(.05*t):0,(r=m.tap_checkbox?Math.round(.035*(t+Number.EPSILON)*100)/100:0)>98&&(r=98),s=parseFloat(isNaN(m.site_allows)?0:m.site_allows),i=parseFloat(isNaN(m.expenses_claims)?0:m.expenses_claims),u=parseFloat(isNaN(m.allows_type3amt)?0:m.allows_type3amt)+parseFloat(isNaN(m.allows_type4amt)?0:m.allows_type4amt)+parseFloat(isNaN(m.allows_type5amt)?0:m.allows_type5amt)+parseFloat(isNaN(m.allows_type6amt)?0:m.allows_type6amt)+parseFloat(isNaN(m.allows_type7amt)?0:m.allows_type7amt)+parseFloat(isNaN(m.allows_type8amt)?0:m.allows_type8amt),p=parseFloat(isNaN(m.deducts_type1amt)?0:m.deducts_type1amt)+parseFloat(isNaN(m.deducts_type2amt)?0:m.deducts_type2amt)+parseFloat(isNaN(m.deducts_type3amt)?0:m.deducts_type3amt)+parseFloat(isNaN(m.deducts_type4amt)?0:m.deducts_type4amt)+parseFloat(isNaN(m.deducts_type5amt)?0:m.deducts_type5amt)+parseFloat(isNaN(m.deducts_type6amt)?0:m.deducts_type6amt)+parseFloat(isNaN(m.deducts_type7amt)?0:m.deducts_type7amt)+parseFloat(isNaN(m.deducts_type8amt)?0:m.deducts_type8amt),u=isNaN(u)?0:u,p=isNaN(p)?0:p,l=t+s+i-a-r+u-p,"BND"===m.currency?(b=t,O=u,_=p,j=a,y=r,f=s,w=i,x=l):(b=Math.round((t+Number.EPSILON)*m.currency_rate*100)/100,O=Math.round((u+Number.EPSILON)*m.currency_rate*100)/100,_=Math.round((p+Number.EPSILON)*m.currency_rate*100)/100,j=Math.round((a+Number.EPSILON)*m.currency_rate*100)/100,y=Math.round((r+Number.EPSILON)*m.currency_rate*100)/100,f=Math.round((s+Number.EPSILON)*m.currency_rate*100)/100,w=Math.round((i+Number.EPSILON)*m.currency_rate*100)/100,x=Math.round((l+Number.EPSILON)*m.currency_rate*100)/100),h((function(e){return Object(n.a)(Object(n.a)({},m),{},{wages:t,total_allowances:u,total_deductions:p,tap_amount:a,scp_amount:r,site_allows:s,expenses_claims:i,nett_pay:l,wages_bnd:b,total_allowances_bnd:O,total_deductions_bnd:_,tap_amount_bnd:j,scp_amount_bnd:y,site_allows_bnd:f,expenses_claims_bnd:w,nett_pay_bnd:x})})),v.tap_amount=a,v.scp_amount=r,v.total_allowances=u,v.total_deductions=p,v.site_allows=s,v.expenses_claims=i,v.nett_pay=l,v.wages_bnd=b,v.tap_amount_bnd=j,v.scp_amount_bnd=y,v.site_allows_bnd=f,v.expenses_claims_bnd=w,v.total_allowances_bnd=O,v.total_deductions_bnd=_,v.nett_pay_bnd=x}};return Object(L.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D()},children:[Object(L.jsxs)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(L.jsx)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)(j.n,{as:"u",fontSize:"md",children:Object(L.jsx)(j.i,{size:"sm",children:"Allowances"})})}),Object(L.jsx)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)(j.n,{as:"u",fontSize:"md",children:Object(L.jsx)(j.i,{size:"sm",children:"Deductions"})})}),Object(L.jsx)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(L.jsxs)(j.n,{as:"u",fontSize:"md",children:[Object(L.jsx)(j.i,{size:"sm",children:"Summary"}),Object(L.jsxs)(j.i,{size:"sm",children:["(",m.name,")"]})]})})]}),Object(L.jsxs)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(L.jsx)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(L.jsxs)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(L.jsxs)(_.a,{item:!0,sm:8,align:"center",style:{border:"1px solid white"},children:[Object(L.jsx)(j.b,{children:Object(L.jsx)(j.n,{fontSize:"sm",children:"Description"})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Allowance",name:"allows_type1",variant:"filled",type:"text",value:m.allows_type1,onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Allowance",name:"allows_type2",variant:"filled",type:"text",displayEmpty:!0,defaultValue:"",value:m.allows_type2,onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Allowance"}),Object(L.jsxs)(v.a,{name:"allows_type3",value:m.allows_type3,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Allowance"}),Object(L.jsxs)(v.a,{name:"allows_type4",value:m.allows_type4,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Allowance"}),Object(L.jsxs)(v.a,{name:"allows_type5",value:m.allows_type5,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Allowance"}),Object(L.jsxs)(v.a,{name:"allows_type6",value:m.allows_type6,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Allowance"}),Object(L.jsxs)(v.a,{name:"allows_type7",value:m.allows_type7,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Allowance"}),Object(L.jsxs)(v.a,{name:"allows_type8",value:m.allows_type8,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsx)(j.b,{p:2,children:Object(L.jsx)(N.a,{isInvalid:!m.tap_checkbox,isChecked:m.tap_checkbox,colorScheme:"red",size:"md",children:Object(L.jsx)(j.i,{size:"sm",children:"TAP/SCP Contribution"})})})]}),Object(L.jsxs)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:[Object(L.jsx)(j.b,{children:Object(L.jsx)(j.n,{fontSize:"sm",children:m.salary_currency?m.salary_currency:"BND"})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"site_allows",variant:"filled",type:"number",step:"any",value:m.site_allows,onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"expenses_claims",variant:"filled",type:"number",step:"any",value:m.expenses_claims,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"allows_type3amt",variant:"filled",type:"number",min:"0",max:"9999",step:"any",value:m.allows_type3amt,onChange:function(e){z(e)},InputLabelProps:{shrink:!0},errorText:""})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"allows_type4amt",variant:"filled",type:"number",step:"any",value:m.allows_type4amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"allows_type5amt",variant:"filled",type:"number",step:"any",value:m.allows_type5amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"allows_type6amt",variant:"filled",type:"number",step:"any",value:m.allows_type6amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"allows_type7amt",variant:"filled",type:"number",step:"any",value:m.allows_type7amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"allows_type8amt",variant:"filled",type:"number",step:"any",value:m.allows_type8amt,onChange:z,InputLabelProps:{shrink:!0}})})]})]})}),Object(L.jsx)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(L.jsxs)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(L.jsxs)(_.a,{item:!0,sm:8,align:"center",style:{border:"1px solid white"},children:[Object(L.jsx)(j.b,{children:Object(L.jsx)(j.n,{fontSize:"sm",children:"Description"})}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type1",value:m.deducts_type1,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type2",value:m.deducts_type2,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type3",value:m.deducts_type3,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type4",value:m.deducts_type4,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type5",value:m.deducts_type5,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type6",value:m.deducts_type6,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type7",value:m.deducts_type7,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{htmlFor:"deduct-customized-native-simple",className:u.formLabel,children:"Deduction"}),Object(L.jsxs)(v.a,{name:"deducts_type8",value:m.deducts_type8,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:z,children:[Object(L.jsx)("option",{value:"",children:"None"}),r.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(L.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),"BND"!==m.salary_currency&&Object(L.jsx)(j.b,{p:2,children:Object(L.jsx)(j.n,{fontSize:"md",children:Object(L.jsxs)(j.i,{size:"sm",children:["Exchange Rate: ",m.currency_rate]})})})]}),Object(L.jsxs)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:[Object(L.jsx)(j.b,{children:Object(L.jsx)(j.n,{fontSize:"sm",children:m.salary_currency?m.salary_currency:"BND"})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type1amt",variant:"filled",type:"number",step:"any",inputProps:{minLength:0},value:m.deducts_type1amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type2amt",variant:"filled",type:"number",step:"any",value:m.deducts_type2amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type3amt",variant:"filled",type:"number",step:"any",value:m.deducts_type3amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type4amt",variant:"filled",type:"number",step:"any",value:m.deducts_type4amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type5amt",variant:"filled",type:"number",step:"any",value:m.deducts_type5amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type6amt",variant:"filled",type:"number",step:"any",value:m.deducts_type6amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type7amt",variant:"filled",type:"number",step:"any",value:m.deducts_type7amt,onChange:z,InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Amount",name:"deducts_type8amt",variant:"filled",type:"number",step:"any",value:m.deducts_type8amt,onChange:z,InputLabelProps:{shrink:!0}})})]})]})}),Object(L.jsx)(_.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(L.jsxs)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(L.jsxs)(_.a,{item:!0,sm:m.salary_currency&&"BND"!==m.salary_currency?6:12,align:"center",style:{border:"1px solid white"},children:[Object(L.jsx)(j.b,{children:Object(L.jsx)(j.n,{fontSize:"sm",children:m.salary_currency?m.salary_currency:"BND"})}),Object(L.jsx)(g.a,{variant:"fullWidth",className:u.divider}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Wages",name:"wages",variant:"filled",type:"number",step:"any",value:m.wages,onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"TAP Amount",name:"tap_amount",variant:"filled",type:"number",value:S()(m.tap_amount),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"SCP Amount",name:"scp_amount",variant:"filled",type:"number",value:S()(m.scp_amount),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Site Allowances",name:"siteallows",variant:"filled",type:"number",value:S()(m.site_allows),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Expenses Claims",name:"expclaims",variant:"filled",type:"number",value:S()(m.expenses_claims),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Allowances",name:"total_allowances",variant:"filled",type:"number",value:S()(m.total_allowances),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Deductions",name:"total_deductions",variant:"filled",type:"number",value:S()(m.total_deductions),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Nett Pay",name:"nett_pay",variant:"filled",type:"number",value:S()(m.nett_pay),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{})]}),m.salary_currency&&"BND"!==m.salary_currency&&Object(L.jsxs)(_.a,{item:!0,sm:6,align:"center",style:{border:"1px solid white"},children:[Object(L.jsx)(g.a,{variant:"fullWidth",className:u.divider}),Object(L.jsx)(j.b,{children:Object(L.jsxs)(j.n,{fontSize:"sm",children:[" ",(m.salary_currency,"BND")]})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Wages",name:"wages",variant:"filled",type:"number",value:S()(m.wages_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"TAP Amount",name:"tap_amount",variant:"filled",type:"number",value:S()(m.tap_amount_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"SCP Amount",name:"scp_amount",variant:"filled",type:"number",value:S()(m.scp_amount_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Site Allowances",name:"siteallows",variant:"filled",type:"number",value:S()(m.site_allows_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Expenses Claims",name:"expclaims",variant:"filled",type:"number",value:S()(m.expenses_claims_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Allowances",name:"total_allowances",variant:"filled",type:"number",value:S()(m.total_allowances_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Deductions",name:"total_deductions",variant:"filled",type:"number",value:S()(m.total_deductions_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Nett Pay",name:"nett_pay",variant:"filled",type:"number",value:S()(m.nett_pay_bnd),onChange:z,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})]})]})})]})]})},D=a(23),E=a(30),F=function(e){var t=e.singlebatchpayslip,a=Object(D.c)(E.j),l=Object(s.a)(a,2),r=l[0],c=l[1],o=Object(i.useState)(!0),u=Object(s.a)(o,2),p=u[0],b=u[1],m=Object(i.useMemo)((function(){return[{title:"Name",field:"name",editable:"never"},{title:"Wages",field:"wages_bnd",editable:"never",type:"currency"},{title:"TAP Amount",field:"tap_amount_bnd",editable:"never",type:"currency"},{title:"SCP Amount",field:"scp_amount_bnd",editable:"never",type:"currency"},{title:"Site Allows",field:"site_allows_bnd",editable:"never",type:"currency"},{title:"Exps Claims",field:"expenses_claims_bnd",editable:"never",type:"currency"},{title:"Allowances",field:"total_allowances_bnd",editable:"never",type:"currency"},{title:"Deductions",field:"total_deductions_bnd",editable:"never",type:"currency"},{title:"Nett Pay",field:"nett_pay_bnd",editable:"never",type:"currency"}]}),[]);return Object(i.useEffect)((function(){!function(){var e=t,a=e.reduce((function(e,t){return e+t.wages_bnd}),0),l=e.reduce((function(e,t){return e+t.site_allows_bnd}),0),s=e.reduce((function(e,t){return e+t.expenses_claims_bnd}),0),i=e.reduce((function(e,t){return e+t.total_allowances_bnd}),0),o=e.reduce((function(e,t){return e+t.total_deductions_bnd}),0),d=e.reduce((function(e,t){return e+t.tap_amount_bnd}),0),u=e.reduce((function(e,t){return e+t.scp_amount_bnd}),0),p=e.reduce((function(e,t){return e+t.nett_pay_bnd}),0);c(Object(n.a)(Object(n.a)({},r),{},{totalpayroll:p,totalwages:a,totaltap:d,totalscp:u,totalallows:i,totaldeducts:o,totalsitesallows:l,totalexpensesclaims:s}))}(),b(!1)}),[p]),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{}),Object(L.jsxs)("form",{children:[Object(L.jsx)(_.a,{container:!0,direction:"row",style:{border:"1px solid black"},children:Object(L.jsx)(_.a,{children:Object(L.jsx)("div",{})})}),Object(L.jsxs)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Period",name:"period",variant:"filled",type:"text",value:r.period,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Pay Run Batch",name:"payrun",variant:"filled",type:"text",value:r.payrun,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Status",name:"status",variant:"filled",value:r.status,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Payroll Total",name:"paytotal",variant:"filled",type:"number",value:S()(r.totalpayroll),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})})]}),Object(L.jsx)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:Object(L.jsx)(_.a,{item:!0,sm:12,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)(j.b,{h:"400",w:"full",overflow:"scroll",children:Object(L.jsx)(d.a,{columns:m,data:t,title:"Payroll",options:{filtering:!1,search:!1,toolbar:!1,paging:!1,headerStyle:{backgroundColor:"lightblue",color:"primary"},showTitle:!1}})})})}),Object(L.jsxs)(_.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Wages",name:"totalwages",variant:"filled",type:"currency",value:S()(r.totalwages),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total TAP",name:"totaltap",variant:"filled",type:"currency",value:S()(r.totaltap),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total SCP",name:"totalscp",variant:"filled",type:"currency",value:S()(r.totalscp),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Sites Allows",name:"totalsitesallows",variant:"filled",type:"currency",value:S()(r.totalsiteallows),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Expenses Claims",name:"totalsitesallows",variant:"filled",type:"currency",value:S()(r.totalexpensesclaims),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Allowances",name:"totalallows",variant:"filled",type:"currency",value:S()(r.totalallows),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Deductions",name:"totaldeducts",variant:"filled",type:"currency",value:S()(r.totaldeducts),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(L.jsx)(_.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(L.jsx)("div",{children:Object(L.jsx)(f.a,{label:"Total Payroll",name:"totalpayroll",variant:"filled",type:"currency",value:S()(r.totalpayroll),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})})]})]})]})},T=a(401),M=a.n(T),B=a(566),W=a.n(B),R=a(85),V=function(e){var t=e.singlebatchpayslip,a=t[0].period,n="Payroll Summary for the period  ".concat(a),l=t.map((function(e){return e.name})),s=t.map((function(e){return Object(R.b)(e.wages_bnd)})),i=t.map((function(e){return Object(R.b)(e.tap_amount_bnd)})),r=t.map((function(e){return Object(R.b)(e.scp_amount_bnd)})),c=t.map((function(e){return Object(R.b)(e.site_allows_bnd)})),o=t.map((function(e){return Object(R.b)(e.expenses_claims_bnd)})),d=t.map((function(e){return Object(R.b)(e.total_allowances_bnd)})),u=t.map((function(e){return Object(R.b)(e.total_deductions_bnd)})),p=t.map((function(e){return Object(R.b)(e.nett_pay_bnd)})),b=t.reduce((function(e,t){return e+t.wages_bnd}),0),j=t.reduce((function(e,t){return e+t.tap_amount_bnd}),0),m=t.reduce((function(e,t){return e+t.scp_amount_bnd}),0),h=t.reduce((function(e,t){return e+t.site_allows_bnd}),0),y=t.reduce((function(e,t){return e+t.expenses_claims_bnd}),0),x=t.reduce((function(e,t){return e+t.total_allowances_bnd}),0),O=t.reduce((function(e,t){return e+t.total_deductions_bnd}),0),_=t.reduce((function(e,t){return e+t.nett_pay_bnd}),0),f=W.a.pdfMake.vfs;M.a.vfs=f;var w={pageSize:"A4",pageOrientation:"landscape",content:[{text:"AppSmith Sutera Sdn Bhd",style:"header"},{text:n,style:"subheader"},{style:"tableExample",table:{widths:[200,50,50,50,50,50,50,50,50],body:[[{alignment:"center",text:"Employee Name",style:"subheader"},{alignment:"right",text:"Wages",style:"subheader"},{alignment:"right",text:"TAP Amount",style:"subheader"},{alignment:"right",text:"SCP Amount",style:"subheader"},{alignment:"right",text:"Site Allowances",style:"subheader"},{alignment:"right",text:"Expenses Claims",style:"subheader"},{alignment:"right",text:"Allowances",style:"subheader"},{alignment:"right",text:"Deductions",style:"subheader"},{alignment:"right",text:"Nett Pay",style:"subheader"}],[{stack:[{type:"none",fontSize:8,ul:l}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:s}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:i}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:r}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:c}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:o}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:d}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:u}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:p}]}],["",{alignment:"right",text:Object(R.b)(b),style:"footer"},{alignment:"right",text:Object(R.b)(j),style:"footer"},{alignment:"right",text:Object(R.b)(m),style:"footer"},{alignment:"right",text:Object(R.b)(h),style:"footer"},{alignment:"right",text:Object(R.b)(y),style:"footer"},{alignment:"right",text:Object(R.b)(x),style:"footer"},{alignment:"right",text:Object(R.b)(O),style:"footer"},{alignment:"right",text:Object(R.b)(_),style:"footer"}]]}}],styles:{header:{fontSize:12,bold:!0,margin:[0,0,0,10]},subheader:{fontSize:9,bold:!0,margin:[0,10,0,5]},footer:{fontSize:8,bold:!0,margin:[0,10,0,5]},tableExample:{margin:[0,5,0,15]},tableOpacityExample:{margin:[0,5,0,15],fillColor:"blue",fillOpacity:.3},tableHeader:{bold:!0,fontSize:13,color:"black"}},defaultStyle:{}};M.a.createPdf(w).open()},J=a(95),Q=a(564),H=a(7),U=a.n(H),q=a(12),G=a(16),Y=a(13);function K(){return(K=Object(q.a)(U.a.mark((function e(t){var a,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,s=Object(l.a)(t,["id"]),e.next=3,fetch(Y.B,{method:"PUT",body:JSON.stringify(Object(n.a)({id:a},s))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){var t=Object(G.useQueryClient)(),a=Object(p.a)();return Object(G.useMutation)((function(e){return function(e){return K.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payrun"),a({title:"Payrun batch being updated!",status:"success"})},onError:function(){a({title:"Network Error! Please check your internet connection!",status:"warning"})}}).mutate}function Z(){return(Z=Object(q.a)(U.a.mark((function e(t){var a,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,s=Object(l.a)(t,["id"]),e.next=3,fetch(Y.F,{method:"PUT",body:JSON.stringify(Object(n.a)({id:a},s))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var t=Object(G.useQueryClient)(),a=Object(p.a)();return Object(G.useMutation)((function(e){return function(e){return Z.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payslips")},onErrot:function(){a({title:"Internet connection error! Record not updated!",status:"warning"})}}).mutate}var ee=a(162),te=a(156),ae={name:"",period:"",pay_date:null,payrun:"",bank_name:"",bank_acno:"",salary_currency:"BND",currency_rate:1,tap_acno:"",scp_acno:"",tap_checkbox:!1,empid:"",status:"",allows_type1:"",allows_type1amt:"",allows_type2:"",allows_type2amt:"",allows_type3:" ",allows_type3amt:0,allows_type4:"",allows_type4amt:0,allows_type5:" ",allows_type5amt:0,allows_type6:" ",allows_type6amt:0,allows_type7:" ",allows_type7amt:0,allows_type8:" ",allows_type8amt:0,deducts_type1:" ",deducts_type1amt:0,deducts_type2:" ",deducts_type2amt:0,deducts_type3:" ",deducts_type3amt:0,deducts_type4:" ",deducts_type4amt:0,deducts_type5:" ",deducts_type5amt:0,deducts_type6:" ",deducts_type6amt:0,deducts_type7:" ",deducts_type7amt:0,deducts_type8:" ",deducts_type8amt:0,wages:0,tap_amount:0,scp_amount:0,total_allowances:0,total_deductions:0,site_allows:0,expenses_claims:0,nett_pay:0,wages_bnd:0,site_allows_bnd:0,expenses_claims_bnd:0,total_allowances_bnd:0,total_deductions_bnd:0,tap_amount_bnd:0,scp_amount_bnd:0,nett_pay_bnd:0},ne=["January","February","March","April","May","June","July","August","September","October","November","December"];t.default=function(){var e=Object(r.g)(),t=Object(p.a)(),a=Object(ee.b)().payslip_period,O=Object(k.a)(),_=O.payslipsbatch,f=O.psbpayrunId,w=O.setPSBPayrunId,v=Object(J.a)().employees,g=Object(Q.a)().payrun,N=$(),P=X(),S=Object(te.b)(),I=S.loadPayitems,C=S.payitems,A=Object(D.c)(E.j),T=Object(s.a)(A,2),M=T[0],B=T[1],W=Object(D.c)(E.i),R=Object(s.a)(W,1)[0],H=Object(D.c)(E.k),U=Object(s.a)(H,2),q=(U[0],U[1]),G=Object(i.useState)(!1),Y=Object(s.a)(G,2),K=Y[0],Z=Y[1],le=Object(i.useState)(!1),se=Object(s.a)(le,2),ie=se[0],re=se[1],ce=Object(i.useState)(ae),oe=Object(s.a)(ce,2),de=oe[0],ue=oe[1],pe=Object(i.useState)(0),be=Object(s.a)(pe,2),je=be[0],me=be[1],he=Object(i.useState)(!1),ye=Object(s.a)(he,2),xe=ye[0],Oe=ye[1],_e=Object(i.useState)(!1),fe=Object(s.a)(_e,2),we=fe[0],ve=fe[1],ge=Object(i.useState)(!0),Ne=Object(s.a)(ge,2),Pe=Ne[0],Se=Ne[1],Ie=Object(i.useState)(!1),ke=Object(s.a)(Ie,2),Le=ke[0],Ce=ke[1],Ae=Object(i.useState)(!1),ze=Object(s.a)(Ae,2),De=ze[0],Ee=ze[1],Fe=Object(i.useState)(0),Te=Object(s.a)(Fe,2),Me=Te[0],Be=Te[1],We=Object(b.e)(),Re=We.isOpen,Ve=We.onOpen,Je=We.onClose,Qe=_,He=Object(i.useMemo)((function(){return[{title:"Name",field:"name",editable:"never",cellStyle:{width:280,maxWidth:280}}]}),[]);Object(i.useEffect)((function(){I(),Oe(!0)}),[]),Object(i.useEffect)((function(){me(0),Oe(!1)}),[xe]),Object(i.useEffect)((function(){Z(!1)}),[ie]),Object(i.useEffect)((function(){w(a),ve(!0)}),[f]),Object(i.useEffect)((function(){Ge(),ve(!1)}),[we]),Object(i.useEffect)((function(){qe(),Ee(!1)}),[De]),Object(i.useEffect)((function(){Ce(1===Me)}),[Me]);var Ue=function(e){V(e={singlebatchpayslip:e})},qe=function(){"Pending"===M.status&&Qe.forEach((function(e){if(e.tableData.checked){var t=e.id,a=(e.rec_id,e.tableData,Object(l.a)(e,["id","rec_id","tableData"]));console.log("updatepayslip",e),N(Object(n.a)({id:t},a)),e.tableData.checked=!1}}))},Ge=function(){var e=Qe.filter((function(e){return e.payrun===a})).map((function(e){return Object(n.a)({},e)})),t=e.reduce((function(e,t){var a=isNaN(t.nett_pay_bnd)?0:t.nett_pay_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),l=e.reduce((function(e,t,a){var n=isNaN(t.wages_bnd)?0:t.wages_bnd;return e+Math.round(100*(n+Number.EPSILON))/100}),0),s=e.reduce((function(e,t){var a=isNaN(t.tap_amount_bnd)?0:t.tap_amount_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),i=e.reduce((function(e,t){var a=isNaN(t.scp_amount_bnd)?0:t.scp_amount_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),r=e.reduce((function(e,t){var a=isNaN(t.total_allowances_bnd)?0:t.total_allowances_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),c=e.reduce((function(e,t){var a=isNaN(t.total_deductions_bnd)?0:t.total_deductions_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),o=e.reduce((function(e,t){var a=isNaN(t.site_allows_bnd)?0:t.site_allows_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),d=e.reduce((function(e,t){var a=isNaN(t.expenses_claims_bnd)?0:t.expenses_claims_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0);B((function(e){return Object(n.a)(Object(n.a)({},M),{},{totalpayroll:t,totalwages:l,totaltap:s,totalscp:i,totalallows:r,totaldeducts:c,totalsiteallows:o,totalexpensesclaims:d})}))},Ye=function(){if("Verified"===M.status||"Approved"===M.status)return t({title:"This payroll batch has been ".concat(M.status,"! No changes can be made!"),status:"warning"}),Object(L.jsx)("div",{});var n=g.filter((function(e){return e.payrun===a}));P({id:n[0].id,totalpayroll:M.totalpayroll,totalwages:M.totalwages,totaltap:M.totaltap,totalscp:M.totalscp,totalallows:M.totalallows,totaldeducts:M.totaldeducts,totalsitesallows:M.totalsiteallows,totalexpensesclaims:M.totalexpensesclaims}),e("/payslip")},Ke=function(){return Object(L.jsx)(j.b,{children:Object(L.jsx)(d.a,{columns:He,data:_,title:"Employees",options:{filtering:!1,search:!1,toolbar:!0,selection:!0,pageSize:10,headerStyle:{backgroundColor:"#daad86",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(L.jsxs)("div",{children:[Object(L.jsx)(o.MTableToolbar,Object(n.a)({},e)),Object(L.jsx)("div",{style:{padding:"5px 10px"},children:Object(L.jsx)(m.a,{colorScheme:"blue",isDisabled:"Approve"!==M.status,onClick:function(){return Xe()},leftIcon:Object(L.jsx)(u.c,{color:"white",fontSize:"1.5em"}),children:"Email"})})]})}}})})},Xe=function(e){var l=ne[a.substring(6,7)],s=a.substring(0,4);_.forEach((function(e){if(e.tableData.checked){var a=e.name,i=e.empid,r={to_name:a,to_email:v.filter((function(e){return e.id===i})).map((function(e){return Object(n.a)({},e)}))[0].email,message:"Your payroll for the month of ".concat(l," ").concat(s," has been transfered. Please login in to view your payslip!")};c.a("service_ffxn6vb","template_1y8odlq",r,"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),t({title:"Email has sent successfully to ".concat(r.to_email,"!"),status:"success"})}),(function(e){console.log(e),t({title:"Email has fail to send to ".concat(r.to_email,"!"),status:"warning"})}))}}))};return Object(L.jsxs)(j.e,{marginLeft:4,marginTop:70,w:"98%",h:"100%",style:{backgroundColor:"lightcyan"},children:[Object(L.jsx)(j.o,{children:Object(L.jsxs)(j.f,{templateRows:"repeat(1,1fr)",templateColumns:"repeat(1,1fr)",children:[Object(L.jsxs)(j.g,{rowSpan:1,colSpan:1,children:[Object(L.jsxs)(j.f,{templateRows:"repeat(1,1fr)",templateColumns:"repeat(10,1fr)",children:[Object(L.jsx)(j.g,{rowSpan:1,colSpan:2}),Object(L.jsx)(j.g,{rowSpan:1,colSpan:4,children:Object(L.jsx)(j.b,{textAlign:"center",alignItems:"center",children:Object(L.jsx)(j.i,{pl:"10",pt:2,children:"Payroll"})})}),Object(L.jsx)(j.g,{rowSpan:1,colSpan:4,pt:0,children:Object(L.jsx)(j.b,{pt:"2",pr:5,alignItems:"right",align:"right",children:Object(L.jsxs)(j.m,{spacing:4,direction:"row",align:"center",pl:150,children:[Object(L.jsx)(m.a,{width:"800px",colorScheme:"blue",isDisabled:"Verified"===M.status||"Approved"===M.status||!Le,onClick:function(t){return function(t){t.preventDefault(),qe(),Ye(),e("/payslip")}(t)},leftIcon:Object(L.jsx)(u.d,{color:"white",fontSize:"1.5em"}),children:"Save/Exit"}),Object(L.jsx)(m.a,{isDisabled:!Le,width:"500px",colorScheme:"blue",onClick:function(e){return function(e){e.preventDefault(),"Verified"===M.status||"Approved"===M.status||P({id:R,totalpayroll:M.totalpayroll,totalwages:M.totalwages,totaltap:M.totaltap,totalscp:M.totalscp,totalallows:M.totalallows,totaldeducts:M.totaldeducts,totalsitesallows:M.totalsiteallows,totalexpensesclaims:M.totalexpensesclaims}),Ue(Qe)}(e)},leftIcon:Object(L.jsx)(u.d,{color:"white",fontSize:"1.5em"}),children:"Print"}),Object(L.jsx)(m.a,{width:"500px",colorScheme:"blue",isDisabled:"Verified"===M.status||"Approved"===M.status||"New"===M.status||!Le,onClick:function(e){return function(e){e.preventDefault(),B((function(e){return Object(n.a)(Object(n.a)({},M),{},{status:"Verified"})})),q("Verified"),console.log("Verify",M),P({id:R,status:"Verified",totalpayroll:M.totalpayroll,totalwages:M.totalwages,totaltap:M.totaltap,totalscp:M.totalscp,totalallows:M.totalallows,totaldeducts:M.totaldeducts,totalsitesallows:M.totalsiteallows,totalexpensesclaims:M.totalexpensesclaims}),t({title:"Batch has been verified!",status:"success"})}(e)},leftIcon:Object(L.jsx)(u.a,{color:"white",fontSize:"1.5em"}),children:"Verify"}),Object(L.jsx)(m.a,{width:"500px",colorScheme:"blue",isDisabled:"Approved"!==M.status,onClick:Ve,leftIcon:Object(L.jsx)(u.c,{color:"white",fontSize:"1.5em"}),children:"Email"})]})})})]}),Object(L.jsx)(j.d,{style:{border:"1px solid lightgrey"},orientation:"horizontal",colorScheme:"red",variant:"solid"})]}),Object(L.jsx)(j.g,{rowSpan:1,colSpan:1,children:Object(L.jsxs)(h.e,{defaultIndex:0,onChange:function(e){return function(e){Be(e),1===e&&(Ge(),Ee(!0)),Ce(!1)}(e)},children:[Object(L.jsxs)(h.b,{marginLeft:4,children:[Object(L.jsx)(h.a,{children:Object(L.jsx)(j.b,{children:Object(L.jsx)(j.i,{size:"sm",children:"Details"})})}),Object(L.jsx)(h.a,{children:Object(L.jsx)(j.b,{children:Object(L.jsx)(j.i,{size:"sm",children:"Summary"})})})]}),Object(L.jsxs)(h.d,{children:[Object(L.jsx)(h.c,{children:Object(L.jsxs)(j.f,{templateRows:"repeat(1,1fr)",templateColumns:"repeat(10,1fr)",children:[Object(L.jsxs)(j.g,{colSpan:2,children:[Object(L.jsx)(j.b,{textAlign:"center",p:4,children:Object(L.jsx)(j.i,{size:"sm",alignItems:"center",children:"Employees"})}),Object(L.jsx)(j.d,{backgroundColor:"white"}),Object(L.jsx)(j.b,{h:"550",border:"2px solid white",backgroundColor:"cyan.100",overflow:"scroll",children:Object(L.jsx)(y.a,{variant:"simple",children:Object(L.jsx)(y.b,{children:_.map((function(e,t){return Object(L.jsxs)("div",{children:[Object(L.jsx)(m.a,{fontSize:{base:"10px",md:"10px",lg:"12px",xl:"16px"},variant:"outlined",height:["".concat(e.name.length>30?"60px":"40px"),"40px"],style:{whiteSpace:"normal",wordWrap:"break-word"},onClick:function(e){me(t),Se(!1),function(e){var t=Qe[e];ue((function(e){return Object(n.a)(Object(n.a)({},ae),t)})),Z(!0),Ee(!0)}(t)},children:Object(L.jsx)(j.n,{align:"left",children:e.name})}),Object(L.jsx)(j.d,{backgroundColor:"white"})]})}))})})})]}),Object(L.jsx)(j.g,{colSpan:8,children:Object(L.jsx)(z,{formdata:de,setFormdata:ue,loadFormdata:K,setLoadFormdata:Z,payitems:C,setLoadUpdatedata:re,singlebatchpayslip:Qe,rowindex:je,isCalc:we,isStart:Pe,setIsStart:Se,setIsCalc:ve})})]})}),Object(L.jsx)(h.c,{children:Object(L.jsx)(F,{payrundata:M,singlebatchpayslip:Qe})})]})]})})]})}),Object(L.jsxs)(x.g,{isOpen:Re,onClose:Je,children:[Object(L.jsx)(x.m,{}),Object(L.jsxs)(x.j,{children:[Object(L.jsx)(x.i,{}),Object(L.jsx)(x.h,{children:Object(L.jsx)(Ke,{})}),Object(L.jsx)(x.k,{children:Object(L.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:Je,children:"Close"})})]})]})]})}},629:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(51),l=a(3),s=a(1);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,l={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}var c=["className"],o=["placement"],d=Object(n.d)((function(e,t){var a=Object(n.g)("Table",e),o=Object(n.e)(e),d=o.className,u=r(o,c);return s.createElement(n.a,{value:a},s.createElement(n.c.table,i({role:"table",ref:t,__css:a.table,className:Object(l.i)("chakra-table",d)},u)))}));l.b&&(d.displayName="Table");var u=Object(n.d)((function(e,t){var a=e.placement,l=void 0===a?"bottom":a,c=r(e,o),d=Object(n.i)();return s.createElement(n.c.caption,i({},c,{ref:t,__css:i({},d.caption,{captionSide:l})}))}));l.b&&(u.displayName="TableCaption");var p=Object(n.d)((function(e,t){var a=Object(n.i)();return s.createElement(n.c.tbody,i({},e,{ref:t,__css:a.tbody}))}))}}]);
//# sourceMappingURL=18.ee9fd4b0.chunk.js.map