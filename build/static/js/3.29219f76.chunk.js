(this.webpackJsonphrms=this.webpackJsonphrms||[]).push([[3],{1057:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r(9),a=r(2),c=r(24),i=r.n(c),o=r(97),s=r(453),u=r(7),p=r.n(u),d=r(12),l=r(16),f=r(13),b=r(361),j=r(28),O=r.n(j),h=r(38);function v(){return(v=Object(d.a)(p.a.mark((function e(t,r){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(f.j,"?m=").concat(t,"&y=").concat(r));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=Object(a.useState)("all"),r=Object(n.a)(t,2),c=r[0],i=r[1],o=Object(a.useState)(""),s=Object(n.a)(o,2),u=s[0],p=s[1],d=Object(a.useState)(""),f=Object(n.a)(d,2),j=f[0],O=f[1],x=Object(a.useCallback)((function(e){return Object(b.c)(e,c)}),[c]),m=Object(l.useQuery)([h.a.expensesperiod,j,u],(function(){return function(e,t){return v.apply(this,arguments)}(j,u)}),{select:"all"!==c?x:void 0}).data;return{expensesperiod:void 0===m?[]:m,expperiodfilter:c,setExpPeriodFilter:i,setExpPeriodYrId:p,setExpPeriodMthId:O}}var m=r(1),y=[{title:"Name",field:"name"},{title:"Date",field:"date",type:"date",dateSetting:{locale:"en-GB"}},{title:"Description",field:"description"},{title:"Amount",field:"amount",type:"currency"},{title:"Status",field:"status"}];function g(e){var t=e.year,r=e.month,c=S(),o=Object(a.useState)(0),u=Object(n.a)(o,2),p=(u[0],u[1]),d=Object(a.useState)(!1),l=Object(n.a)(d,2),f=l[0],b=l[1],j=x(),O=j.expensesperiod,h=j.setExpPeriodYrId,v=j.setExpPeriodMthId;Object(a.useEffect)((function(){h(t),v(r),b(!0)}),[]),Object(a.useEffect)((function(){O&&(g(),b(!1))}),[f]);var g=function(){var e=O.reduce((function(e,t){return"Approved"===t.status||"Approve"===t.status?e+t.amount:e}),0);p(e)};return Object(m.jsx)("div",{className:c.root,children:Object(m.jsx)(s.b,{maxW:"100%",pt:"5px",overflow:"scroll",children:Object(m.jsx)(i.a,{columns:y,data:O,title:"Leave Application",options:{filtering:!1,search:!1,toolbar:!1,paging:!1,headerStyle:{backgroundColor:"rgba(75, 192, 192, 1)",color:"white"},showTitle:!1}})})})}var S=Object(o.a)((function(e){return{root:{padding:0}}}))}}]);
//# sourceMappingURL=3.29219f76.chunk.js.map